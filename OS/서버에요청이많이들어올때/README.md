# 멀티 스레드 vs 멀티 프로세스

> 프로세스 : 운영체제로부터 자원을 할당받는 작업의 단위
>
> 스레드 : 프로세스가 할당받은 자원을 이용하는 실행의 단위

### `멀티 프로세스`

- 두개 이상의 프로세서(CPU)가 하나 이상의 작업을 처리(병렬처리)
- 각 프로세스가 독립된 메모리 주소 사용

- 장점

  - 독립성 : 하나의 프로세스가 죽어도 다른 프로세스에 영향을 주지 않아 안정성이 높음
  - 동기화 문제를 고려하지 않아도 된다

- 단점

  - 멀티스레드보다 많은 메모리공간, CPU 시간을 차지

  - 오버헤드(overhead) 문제 : 독립된 메모리 영역을 갖고 있어서 `context switching`이 잦아 주소 공간의 공유가 잦아지면 오버헤드 발생으로 성능이 저하

    **context switching : 한 CPU에서 여러 프로세스를 번갈아 처리하는 것**

### `멀티 스레드`

- 하나의 프로세스에 여러 스레드로 자원을 공유하며 작업을 나누어 수행하는 것

- 장점
  - 멀티 프로세스보다 적은 메모리공간, CPU 시간을 차지
  - 스레드간 통신 비용이 적음
- 단점
  - 자원을 공유할 때 동기화 문제 발생
  - 한 스레드가 죽으면 전체 스레드가 종료될 수 있음

<br>

### 왜 멀티 프로세스로 할 수 있는 작업들을 굳이 하나의 프로세스에서 스레드로 나눠가며 할까?

- 운영체제가 시스템 자원을 효율적으로 관리하기 위해 스레드를 사용한다.
- 멀티 프로세스로 실행되는 작업을 멀티 스레드로 실행할 경우, 프로세스를 생성하여 자원을 할당하는 시스템 콜이 줄어들어 자원을 효율적으로 관리할 수 있다.
- 또한, 프로세스 간의 통신보다 스레드 간의 통신 비용이 적으므로 작업들 간 통신의 부담이 줄어든다. (처리비용 감소. 프로세스는 독립구조이기 때문)

<br>

### 그렇다면 무조건 멀티 스레드가 좋을까?

- 스레드를 활용하면 자원의 효율성이 증가하기도 하지만, 스레드 간의 자원 공유는 전역 변수를 이용하므로 동기화 문제가 발생 할 수 있으므로 프로그래머의 주의가 필요하다.

<br>

### 그럼 서버에서 다중 요청이 들어왔을 때 무엇으로 구현을 하는게 좋은가?

- 적용하는 시스템에 따라 적합한 동작 방식을 선택하는 것이 좋다!

<br>

### 멀티 스레드

요청이 잦은 서버나 빠른 속도가 필요한 환경에서는 멀티 쓰레드 방식을 선택하는것이 효율적

### 멀티 프로세스

자원 이슈에 대한 비중이 크지 않고 요청이 잦지 않은 환경에서는 멀티 프로세스 방식을 채택하는것이 효율적일 것이다.

<br>

#### RxJAVA Coroutine

