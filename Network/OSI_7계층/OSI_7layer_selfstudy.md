# OSI 7계층

#### `OSI (Open Systems Interconnection)`

>  개방형 시스템, 즉 시스템 간의 상호연결성을 부여하는 표준
>
> 국제표준화기구 (ISO: International Organization for Standardiztion) 에서 만든 네트워크 통신 7단계 과정



#### 왜 7계층으로 나누나?

- 나중에 여러명이서 개발할 때 보통 **모듈화**를 해서 개발을 하게 되는데 시스템에 문제가 생기면 문제가 생긴 부분(계층, 모듈) 만 수정/변환하면 되기 때문
- 계층별로 모듈화해 융화시켜 **호환성에 용이**하도록 함
  - 여기서 **호환성**이란 여러 업체에서 제작/설계/개발하는 통신 장비가 다른 업체의 장비와도 잘 동작함을 말함
  - 그래서 OSI 7계층의 등장 전에는 업체간 통신 장비의 호환성이 좋지 않았다고 함



#### 두 기기의 통신이 이루어진다고 가정했을 때 데이터 송/수신 과정을 OSI 7계층으로 본다면?

- 예) 카카오톡으로 내가 친구에게 `ㅎㅇ` 라고 보낸다

- **송신 호스트**에서 응용 -> ... -> 물리 계층 순으로 `ㅎㅇ` 라는 데이터를 계층별 헤더를 붙여 하위 계층으로 넘겨주며 물리 계층까지 넘겨준 다음,

  **수신 호스트**에서 물리 계층 -> ... -> 응용 계층 순으로 들어가면서 복호화를 하며 최종적으로 수신 호스트에게 데이터를 전송하게 된다 

  이렇게 응용 계층 -> ... -> 물리 계층으로 넘겨주는 과정을 **Encapsulation** 이라고 하고,

  반대로 물리 계층 -> ... -> 응용 계층으로 넘겨주는 과정은 **Decapsulation** 이라고 한다.

![](https://lh3.googleusercontent.com/proxy/fIie72BhSmvKf0aat9_jx5nF6GKufhyRxfkx7qkkQZHd4I_W3Dx6NvC6FYLoz7MrpAj0JFpSSv7ZYD5j9Ur8sA_85INqxLKv4pR4UyjBv4h3xm9U8jr5phEP5SO4EFVL2SzL_kJyhSPbDOlolZw)





# 간단 정리

#### `응용계층`

- 응용 프로그램과 통신 프로그램 간의 인터페이스 제공
- 단위 : DATA
- 대표 프로토콜 : HTTP, FTP, DNS, SSH 등



#### `표현 계층`

- 네트워크 상의 여러 기종 시스템들이 사용하는 다양한 데이터 표현 방식을 하나의 통합된 구문 형식으로 변환

  (네트워크의 데이터 번역자)

- 단위 : DATA

- 프로토콜 : SMB, AFP 등

- 추상 문법과 전송 문법을 이용해 변환/전송, 압축과 보안 수행 (압축은 데용량 데이터를 압축해 전송 속도를 높임)



#### `세션 계층`

- 응용프로그램들 간의 통신관리 및 동기화 유지
- 핵심 역할 : **동기화**
  - 응용프로그램들 사이의 접속을 설정/유지
  - 데이터 전송 시 동기점을 제공 -> **오류 발생 시 데이터를 재전송하거나 복구**
- 단위 : DATA
- 프로토콜 : SSL, TLS, NetBIOS, SSH 등
- SSH : git에서 



#### `전송 계층`

- 송/수신 측의 실질적인 연결 설정 및 유지 -> 신뢰성있는 통신이 가능하도록 만듦
- 데이터링크 계층과 동작하는 면에서 유사하지만
  - 데이터링크 계층 : 물리적으로 1:1 연결된 호스트 사이의 전송을 의미
  - 전송 계층 : 논리적으로(네트워크 상에서) 1:1 연결된 호스트 사이의 전송을 의미
- TCP : 문서, 여러 경로를 타서 최적 경로로 가게 되는데, 계속 최적 경로가 바뀌면 데이터 순서가 바뀐다고 함. 그래서 다시 재조합해서 데이터를 받을 수 있는 게 TCP임
  - 예) TCP 에서 하면 데이터 123을 보냈는데 1,3이 먼저 온 경우 재요청을 보내 2를 보내달라 요청해서 재조합해 받는게 TCP다
- UDP : 게임 등
- TCP - 2-hand, 3-hand



#### `네트워크 계층`

- 데이터를 패킷단위로 분할해서 전송
- 핵심 역할 : **라우팅**
  - 데이터가 수신 호스트에 제대로 도착하기 위해 올바른 경로를 선택해서 여러 시스템을 거쳐가는 최적 경로를 선택하게 해준다
  - 이외의 역할 : 트래픽 제어, 패킷 분할/병합, 여러 네트워크를 연결하는 인터네트워킹 등
- 단위 : **패킷(packet)**
  - 네트워크 상에서 전송하는 데이터를 일정한 크기로 자른, 작게 나눠진 데이터의 묶음
  - 누구에게 어디로 무엇을 보내야 하는지에 대한 정보가 담겨 있음
  - **안정성** 때문에 나눠서 보냄
- 프로토콜 : IP, ICMP, ARP, RIP 등



#### `데이터링크 계층`

- 네트워크 계층에서 받은 데이터를 프레임 단위로 구성, 필요한 정보를 추가해 물리 계층으로 전송
- **MAC 주소** (고유한 하드웨어 주소)를 사용하며, 신뢰성있는 정보를 전송하기 위한 역할 수행
  - 오류제어
  - 순서 제어
  - 흐름 제어
- 단위 : 프레임(frame)
- 프로토콜 : Ethernet, 토크닝, ATM 등



#### `물리 계층`

- 전송매체를 통해 **실제로 데이터를 전송**
- 하드웨어 장치들의 연결(전기, 기계, 전압, 신호 등의 전기적인 부분)의 특성을 규정
- 단위 : bits
- 프로토콜 : **RS-232, 10 BASE-T, DSL**
- 관련장치 : 허브, 리피터



___





## 남이 정리한 거



![img](OSI_7계층_정리.assets/img.jpg)

- 7 계층(응용 계층): 사용자와 직접 상호작용하는 응용 프로그램들이 포함된 계층(HTTP)

- 6 계층(표현 계층): 데이터의 형식(Format)을 정의하는 계층(JPEG)

- 5 계층(세션 계층): 컴퓨터끼리 통신을 하기 위해 세션을 만드는 계층(SSH)

- 4 계층(전송 계층): 최종 수신 프로세스로 데이터의 전송을 담당하는 계층(게이트웨이)

- 3 계층(네트워크 계층): 패킷을 목적지까지 가장 빠른 길로 전송하기 위한 계층(라우터)

- 2 계층(데이터링크 계층): 데이터의 물리적인 전송과 에러 검출, 흐름 제어를 담당하는 계층(브릿지, 스위치)

- 1 계층(물리 계층): 데이터를 전기 신호로 바꾸어주는 계층(허브, 리피터)







OSI 7계층(layer)

네트워크를 공부하면서 가장 중요하고 기초가 되는 것이 OSI 7계층이다. 파고들수록 복잡하고 어려워지며 처음 공부할 때는 대략적으로 "어떤 계층이 어떤 것을 한다." 정도만 아는 것이 편하다. 고로 이 글에서는 **간략한 설명**만 하고 자세한 설명은 별도로 정리할 것이다.

굳이 외우려고 하지말고 자신만의 방식으로 이해하는 것이 좋다. 

자신의 분야가 어느 계층에 속하는지 알고 그 계층에서 어떻게 **다음으로 데이터를 넘길 것**인지가 중요하다. 



7계층 – 응용 계층(Application)

OSI 7계층 중 최상위 계층이며, 사용자가 직접 눈으로 보고 실제로 작업을 하는 계층이다. 웹 브라우저, HTTP, FTP, WWW, Telnet, SMTP, POP 등의 사용자와 직접적으로 상호작용 하는 모든 **응용 프로그램**들이 속한다. 



6계층 – 표현 계층(Presentation)

표현 계층은 data의 **Format(형식)**을 정의한다. 일반적으로 응용프로그램 형식을 준비 또는 네트워크 형식으로 변환하거나 네트워크 형식을 응용프로그램 형식으로 **변환**하는 것을 나타낸다. 즉, 서로 다른 환경의 컴퓨터와 Application들이 data를 서로 이해 할 수 있도록 도와주는 계층이다. JPEG, TIFF, GIF(그래픽 포맷), MPEG, QUICKTIME(동영상 포맷), MIDI(음악 포맷), RTF, ASCII, EBCDIC(텍스트 포맷)등을 지정 한다. data의 **압축**(compression), **암호화**(Encryption)의 기능도 수행한다. 



5계층 – 세션 계층(Session)

통신의 일을 책임지고 있는 계층이다. 2대의 기기, 컴퓨터 또는 서버 간에 통신을 하기 위해서는 **세션(session)**을 만들어야 하는데 이 작업이 여기서 처리된다. 

네트워크 연결을 성립(Establishment), 제어와 운영(Manage and Control), 연결의 종료(Terminate)를 책임진다. 또, 각각의 알맞은 Application으로 Data를 보내기 위해서 Application으로부터 들어오는 Data들을 **분리해서 유지**해 주는 기능을 수행한다. OS(Operating System)가 이 계층에 속한다. 



4계층 – 전송 계층(Transport)

전송 계층은 Data의 전송을 담당한다. 보낼 데이터의 용량과 속도, 목적지 등을 처리한다. 대표적으로 TCP와 UDP가 있는데, **TCP**는 인터넷 프로토콜(IP) 위에 구축되어 TCP/IP로 합쳐서 부른다. 기기의 IP 주소가 여기서 작동한다. Data가 잘 전송되고 있는지 **확인**하고 만약 중간에 에러가 발생하면 이를 알아내서 다시 에러난 부분을 **재전송**해 준다. 반면 **UDP**는 Data를 보낸 후 아무것도 하지 않는다. 

TCP는 연결 지향 프로토콜(Connection oriented Protocol), UDP는 비연결 지향 프로토콜(Connectionless Protocol)이라 한다.



3계층 – 네트워크 계층(Network)

네트워크 계층의 가장 중요한 일은 **패킷을 목적지**까지 가장 빠른 길로 **전송**하는 역할이다. 이 계층에서 사용되는 장비로 Router가 있다. 이 계층에서는 에러가 생기든 말든 일단 보내는 것에 중점을 둔다. 에러가 나면 상위 계층에서 해결해 주기 때문에 에러에 신경쓰지 않는다. 이 네트워크 계층에서 사용되는 프로토콜로는 IP, IPX, ICMP, ARP 등이 있다. 



2계층 – 데이터 링크 계층(Data Link)

Data Link Layer는 Data의 **물리적인 전송**(직접 연결된 노드 간)을 담당하고, Error Notification(**에러 검출**), Flow Control(흐름 제어) 등을 다룬다. Data 전송시 에러가 발생하면 Data Link 계층에서 검출을 하고 Transport Layer에서 그 에러를 수정한다. 데이터 링크 계층에서 사용되는 장비로는 Bridge, Switch가 있다. 프로토콜은 HDLC, PPP, Frame-Relay, FDDI, ATM 등이 있다. 

 Data Link 계층은 두 가지 SubLayer로 나뉘는데, MAC과 LLC이다. MAC은 MAC(Media Access Control) 주소를 이용해서 Data를 해당 장비로 보내는 것이고, LLC는 각 장비를 논리적으로 연결하고 유지하는 역할을 한다.



1계층 – 물리 계층(Physical)

물리 계층은 Data를 전기신호로 바꿔주는 역할을 한다. 케이블 종류, 무선 주파수, 핀 배치, 전압, 물리 요건 등이 포함된다. 장비로는 Hub, Repeater, Cable이 있다. 네트워크에 문제가 발생하면 물리 계층의 문제인 경우가 많다. 케이블의 연결 상태와 장비의 전원부터 확인하는 것이 좋다. 













